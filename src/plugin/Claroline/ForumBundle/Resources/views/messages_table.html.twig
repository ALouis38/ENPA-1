{% extends "ClarolineCoreBundle:Workspace:layout.html.twig" %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('bundles/clarolineforum/js/messages.js') }}" type="text/javascript"></script>
{% endblock %}

{% block section_content %}
<h2> {{ 'forum'|trans({}, 'forum') }}:
    <a href="{{ path('claro_forum_open', {'instanceId':subjectInstance.getParent().getId() }) }}">
        {{ subjectInstance.getParent().getName() }}
    </a>
</h2>
<h3> {{ 'subject'|trans({}, 'forum') }}: {{ subjectInstance.getResource().getTitle() }} </h3>

<div id="twig-attributes"
     data-nbPages="{{ nbPages }}"
     data-subjectInstanceId="{{ subjectInstance.getId() }}"
     data-limit="{{ limit }}"
></div>

<table id="messages_table" class="table table-striped table-bordered table-condensed">
    <thead>
        <tr>
            <th>{{ 'author'|trans({}, 'forum') }}</th>
            <th>{{ 'responses'|trans({}, 'forum') }}</th>
        </tr>
    </thead>
    <tbody id='table-message-body'>
    </tbody>
</table>

<a href='{{path('claro_forum_message_form', {'subjectInstanceId':subjectInstance.getId()})}}'
    <button class="btn btn-secondary"> {{ 'new_message'|trans({}, 'forum') }} </button>
</a>

{% endblock %}