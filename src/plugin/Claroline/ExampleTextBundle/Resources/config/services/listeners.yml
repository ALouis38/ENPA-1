services:
  claroline.listener.exampletext_listener:
    class: Claroline\ExampleTextBundle\Listener\ExampleTextListener
    calls:
      - [setContainer, ["@service_container"]]
    #event definition
    #these are the events fired by the resource manager:
      # create_form_myresourcetype
      # create_myresourcetype
      # delete_myresourcetype
      # export_myresourcetype
      # copy_myresourcetype
      # mycustomaction_myresourcetype
      #
      # In this case, my resource type is "exampletext".
      # mycustomaction is the custom action names you defined earlier.
    #this event is fired by the platform plugin manager:
      # plugin_options_mydomain
      # in this case mydomain is the domain you specified in the config.yml file.
    tags:
      - { name: kernel.event_listener, event: create_form_exampletext, method: onCreateForm }
      - { name: kernel.event_listener, event: create_exampletext, method: onCreate }
      - { name: kernel.event_listener, event: open_exampletext, method: onOpen }
      - { name: kernel.event_listener, event: export_exampletext, method: onExport }
      - { name: kernel.event_listener, event: delete_exampletext, method: onDelete }
      - { name: kernel.event_listener, event: copy_exampletext, method: onCopy }
      - { name: kernel.event_listener, event: plugin_options_example, method: onAdministrate }
      #... more to come.


  claroline.listener.exampletext_widget:
    class: Claroline\ExampleTextBundle\Listener\WidgetListener
    calls:
      - [setContainer, ["@service_container"]]
    tags:
      - { name: kernel.event_listener, event: widget_exemple_dashboard, method: onDisplay }
      - { name: kernel.event_listener, event: widget_exemple_workspace, method: onDisplay }
      - { name: kernel.event_listener, event: widget_exemple1_dashboard, method: onDisplay }
      - { name: kernel.event_listener, event: widget_exemple1_workspace, method: onDisplay }
      - { name: kernel.event_listener, event: widget_exemple2_dashboard, method: onDisplay }
      - { name: kernel.event_listener, event: widget_exemple2_workspace, method: onDisplay }
      - { name: kernel.event_listener, event: widget_exemple3_dashboard, method: onDisplay }
      - { name: kernel.event_listener, event: widget_exemple3_workspace, method: onDisplay }
      - { name: kernel.event_listener, event: widget_exemple4_dashboard, method: onDisplay }
      - { name: kernel.event_listener, event: widget_exemple4_workspace, method: onDisplay }
