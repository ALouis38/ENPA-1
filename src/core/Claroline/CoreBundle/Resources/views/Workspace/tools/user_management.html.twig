{% extends 'ClarolineCoreBundle:Workspace:tools.html.twig' %}
{% block javascripts %}
    {{ parent() }}
    {% javascripts
       vars=["locale"]
      "@ClarolineCoreBundle/Resources/views/Administration/user_list.html.twigjs"
       filter="twig_js"
    %}
    <script language="javascript" src="{{ asset_url }}"></script>
    {% endjavascripts %}
    <script src='{{ asset('bundles/clarolinecore/js/workspace/workspace_user_management.js') }}' type="text/javascript"></script>
{% endblock %}
{% block tools %}
   {% spaceless %}
        <ul class="breadcrumb">
            <li>
                <a href="{{ path('claro_workspace_tools', {'workspaceId': workspace.getId()}) }}"
                   id="resource_manager_link">
                    <i class="icon-home"></i>
                </a>
            </li>
            <span class="divider"> / </span>
            <li>
                <a href="{{ path('claro_workspace_tools_user_management', {'workspaceId': workspace.getId()}) }}"
                id="link_user_management">{{ 'user_management'|trans({}, 'platform') }}
                </a>
            </li>
        </ul>
    {% endspaceless %}
    <div id="twig-attributes"
         data-workspaceId="{{workspace.getId()}}"
         data-translation.delete="{{ 'delete'|trans({}, 'platform') }}">
    </div>
    <p>
        <input type="text" id="search-background-user-txt" class="search-query" value=""/>
        <input type="button" id="search-background-user-button" value="search" class="btn btn-secondary"/>
        <input type="button" id="reset-background-user-button" value="reset" class="btn btn-secondary"/>
        <button class="btn btn-secondary" id="add-user-button" style="float:right;">{{ 'add_user'|trans({}, 'platform') }}</button>
    </p>
    <table class="table table-striped table-bordered table-condensed">
        <thead>
            <tr>
                <th>{{ 'administrative_code'|trans({}, 'platform') }}</th>
                <th>{{ 'last_name'|trans({}, 'platform') }}</th>
                <th>{{ 'first_name'|trans({}, 'platform') }}</th>
                <th>{{ 'mail'|trans({}, 'platform') }}</th>
                <th>{{ 'role'|trans({}, 'platform') }}</th>
                <th>{{ 'parameters'|trans({}, 'platform') }}</th>
                <th>{{ 'delete'|trans({}, 'platform') }}</th>
            </tr>
        </thead>
        <tbody id="user-table-body">
        </tbody>
    </table>

<!-- dialog box ------------------------------------------------------------------->
    <div id="bootstrap-modal-user" class="modal hide fade">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h3>{{ 'add_user'|trans({}, 'platform') }}</h3>
        </div>
        <div class="modal-body" id="modal-body">
            <div id="user-search-div">
                <input type="text" id="search-modal-user-txt" class="search-query" value="" />
                <input type="button" id="search-modal-user-button" value ="search" class="btn btn-secondary"/><br/>
            </div><br/>
            <form id="list-user-form" >
                <div id="user-checkboxes">
                    <table id="user-table-checkboxes" class="table table-striped table-bordered table-condensed">
                        <thead>
                        <th></th>
                        <th>{{ 'username'|trans({}, 'platform') }}</th>
                        <th>{{ 'last_name'|trans({}, 'platform') }}</th>
                        <th>{{ 'first_name'|trans({}, 'platform') }}</th>
                        </thead>
                        <tbody id="user-table-checkboxes-body">
                        </tbody>
                    </table>
                </div>
                <img src="{{ asset('bundles/clarolinecore/images/loading.gif') }}" id="user-loading" class="loading"/><br/>
            </form>
        </div>
        <div class="modal-footer">
            <input type="button" id="reset-modal-button" class="btn btn-secondary" value="reset"/>
            <a href="#" class="btn btn-primary" id="btn-save-users"> {{ 'save'|trans({}, 'platform') }}</a>
        </div>
    </div>
{% endblock %}

