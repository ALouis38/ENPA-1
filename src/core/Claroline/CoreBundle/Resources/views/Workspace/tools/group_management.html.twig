{% extends 'ClarolineCoreBundle:Workspace:tools.html.twig' %}
{% block javascripts %}
    {{ parent() }}
    <script src='{{ asset('bundles/clarolinecore/js/workspace/workspace_group_management.js') }}' type="text/javascript"></script>
{% endblock %}

{% block tools %}
   {% spaceless %}
        <ul class="breadcrumb">
            <li>
                <a href="{{ path('claro_workspace_tools', {'workspaceId': workspace.getId()}) }}"
                   id="resource_manager_link">
                    <i class="icon-home"></i>
                </a>
            </li>
            <span class="divider"> / </span>
            <li>
                <a href="{{ path('claro_workspace_tools_group_management', {'workspaceId': workspace.getId()}) }}"
                id="link_group_management">{{ 'group_management'|trans({}, 'platform') }}
                </a>
            </li>
        </ul>
    {% endspaceless %}

    <div id="twig-attributes"
         data-workspaceId="{{workspace.getId()}}"
         data-translation.delete="{{ 'delete'|trans({}, 'platform') }}">
    </div>

    <p><button class="btn btn-secondary" id="add-group-button">{{ 'add_group'|trans({}, 'platform') }}</button></p>

    <table class="table table-striped table-bordered table-condensed">
        <thead>
            <th>{{ 'name'|trans({}, 'platform') }}</th>
            <th></th>
        </thead>
        <tbody id="body-tab-group">
        {% for group in groups %}
        <tr class="row-group">
            <td align="center">{{ group.getName() }}</td>
            <td>
                <a href ="#"
                   data-group-id="{{ group.getId() }}"
                   id="link-delete-group-{{ group.getId() }}"
                   class="link-delete-group">{{ 'delete'|trans({}, 'platform') }}
                </a>
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>

<!-------------- modal box ------------------------------------------------>
    <div id="bootstrap-modal-group" class="modal hide fade">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h3>{{ 'add_group'|trans({}, 'platform') }}</h3>
        </div>
        <div class="modal-body" id="modal-body">
            <div id="group-dialog" title="{{ 'list_groups'|trans({}, 'platform') }}">
                <div id="group-search_div">
                    <input type="text" id="search-group-txt" value="" class="search-query"/>
                    <input type="button" id="search-group-button" value ="search name" class="btn btn-secondary"/><br/>
                </div><br/>
                <form id="list-group-form" class="form-horizontal">
                    <div id="group-checkboxes">
                        <table id="group-table-checkboxes" class="table table-striped table-bordered table-condensed">
                            <thead>
                            <th style="width: 30px;"></th>
                            <th>{{ 'name'|trans({}, 'platform') }}</th>
                            </thead>
                            <tbody id="group-table-checkboxes-body">
                            </tbody>
                        </table>
                    </div>
                    <img src="{{ asset('bundles/clarolinecore/images/loading.gif') }}" id="group-loading" class="loading"/><br/>
                </form>
            </div>
        </div>
        <div class="modal-footer">
            <input type="button" id="reset-button" class="btn btn-secondary" value="reset"/>
            <a href="#" class="btn btn-primary" id="btn-save-groups">{{ 'save'|trans({}, 'platform') }}</a>
        </div>
    </div>
{% endblock %}

