[[Documentation index]][index_path]

[index_path]: ../index.md

# Getting started with Claroline development

This tutorial aims to explain how to develop on Claronext LMS.

## Prerequisites

### PHP

Claronext is developed in PHP and needs at least the 5.4 version.

### Symfony

Claronext is built on top of the Symfony framework (version 2). Plugins that you develop will be based on the same framework so you should have at least basic knowledge of it.

Please find the Symfony documentation here:
http://symfony.com/doc/current/index.html.

### Doctrine

Claronext makes a strong use of the Doctrine ORM. You have to use it too, at least for the parts that will be managed by the platform (mainly the resources).

We recommand anyway that you use the ORM for your whole plugin to be "database independant".

It is good practice to check SQL requests generated by the ORM and optimize the code to minimize the load on the database. The DQL (Doctrine Query language) is the right tool to "force" Doctrine  requesting the database the way **you** want.

Please find the Doctrine documentation here:
http://docs.doctrine-project.org/projects/doctrine-orm/en/latest/index.html

## Directory structure

You must put the code of your plugin in the *src/plugin* folder.

You may choose to develop in the *Claroline* vendor folder or create your own one (e.g. *src/plugin/myVendorName*). There you create a new folder for each plugin.

As plugins are Symfony2 [bundles](http://symfony.com/doc/2.0/cookbook/bundles/best_practices.html), it is strongly recommanded that you follow bundles naming rules. So the folder of your plugin should be like this: *src/plugin/myVendorName/myPluginNameBundle*.

## Plugin configuration file

Your plugin must define its properties in *Resources/config/config.yml file*.

    plugin:
        # Set this to "true" if your plugin must have an entry in the plugins configuration page.
        has_options: true
        # You can set an icon for your plugin. The icon must be in your public/images/icons folder.
        icon: icon.png

## Translations

Each plugin require several translations domains:

* plugin_description

We use lower case for every translation keys.

### plugin_description

Create the *plugin_description* file in your Resources/translations folder.

    plugin_description.en.yml

Here is the translation key used to translate your plugin name:

    myvendorbundleshortname : this is a translation

eg:

    clarolineexample: exemple

## The platform

### Javascripts

Claroline.Utilities and Jquery are included by default.
You can add your scripts in the javascripts block.

    {% block javascripts %}
        {{ parent() }}
        <script src="{{ asset('bundles/mybundle/js/myjs.js') }}" type="text/javascript"></script>
    {% endblock %}

The Claroline.Utilities namespace contains some usefull methods for javascript development.
The Claroline.Utilities file is located in the CoreBundle/Resources/public/js/utilities.js

#### ajax request
*Implementation of errors handling may change later*
Claroline.Utilities.ajax(...) is based on the jquery.ajax() function. It'll handle the platform errors and will display
the connexion form if no user is logged on when the request is sent.

#### others

### Dev tools
